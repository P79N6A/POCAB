{"version":3,"file":"ngx-datetime-range-picker.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","ng://ngx-datetime-range-picker/lib/ngx-datetime-range-picker.constants.ts","ng://ngx-datetime-range-picker/lib/ngx-datetime-range-picker.service.ts","ng://ngx-datetime-range-picker/lib/ngx-datetime-range-picker.component.ts","ng://ngx-datetime-range-picker/lib/material/material.module.ts","ng://ngx-datetime-range-picker/lib/pipes/objNgFor.pipe.ts","ng://ngx-datetime-range-picker/lib/ngx-datetime-range-picker.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","declare var require: any;\nconst moment = require(\"moment\");\nconst USA_MST_TZ_CODE = \"MST\";\nconst USA_TZ_CODE = \"PST\";\nconst EU_TZ_CODE = \"CET\";\n\nexport const NgxDatetimeRangePickerConstants = {\n  DEFAULT: {\n    TYPE: \"daily\",\n    INPUT_CLASS: \"m1drp\",\n    DATE_FROMAT: \"YYYY-MM-DD\",\n    TIME_FORMAT: \"HH:mm\",\n    START_DATE: moment().format(\"YYYY-MM-DD\"),\n    END_DATE: moment().format(\"YYYY-MM-DD\"),\n    MIN_DATE: moment()\n      .subtract(2, \"year\")\n      .startOf(\"year\")\n      .format(\"YYYY-MM-DD\"),\n    MAX_DATE: moment().format(\"YYYY-MM-DD\"),\n    START_TIME: \"00:00\",\n    END_TIME: \"23:59\",\n    MODEL_KEYS: [\"daily\", \"weekly\", \"monthly\", \"quarterly\", \"yearly\"],\n    TZ_CODE: USA_MST_TZ_CODE\n  },\n  CONSTANT: {\n    MONTHS_AVAILABLE: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n    USA_MST_TZ_CODE,\n    USA_TZ_CODE,\n    EU_TZ_CODE,\n    TZ_CODES: [USA_TZ_CODE, EU_TZ_CODE],\n    OFFSETS: {\n      [USA_TZ_CODE]: {\n        SO: -7,\n        WO: -8\n      },\n      [EU_TZ_CODE]: {\n        SO: 1,\n        WO: 0\n      }\n    },\n    TZ_NAMES: {\n      [USA_MST_TZ_CODE]: \"America/Phoenix\",\n      [USA_TZ_CODE]: \"America/Los_Angeles\",\n      [EU_TZ_CODE]: \"Europe/Berlin\"\n    }\n  }\n};\n","import { Injectable } from \"@angular/core\";\nimport { NgxDatetimeRangePickerConstants } from \"./ngx-datetime-range-picker.constants\";\nimport { AriaLabelsOptions, NgxDatetimeRangePickerOptions, NgxDatetimeRangePickerSettings } from \"./interfaces/index\";\n\ndeclare var require: any;\nconst moment = require(\"moment\");\nconst _ = require(\"lodash\");\n\nconst DEFAULT_TYPE = NgxDatetimeRangePickerConstants.DEFAULT.TYPE;\nconst DEFAULT_INPUT_CLASS = NgxDatetimeRangePickerConstants.DEFAULT.INPUT_CLASS;\nconst DEFAULT_DATE_FROMAT = NgxDatetimeRangePickerConstants.DEFAULT.DATE_FROMAT;\nconst DEFAULT_TIME_FORMAT = NgxDatetimeRangePickerConstants.DEFAULT.TIME_FORMAT;\nconst DEFAULT_START_DATE = NgxDatetimeRangePickerConstants.DEFAULT.START_DATE;\nconst DEFAULT_END_DATE = NgxDatetimeRangePickerConstants.DEFAULT.END_DATE;\nconst DEFAULT_MIN_DATE = NgxDatetimeRangePickerConstants.DEFAULT.MIN_DATE;\nconst DEFAULT_MAX_DATE = NgxDatetimeRangePickerConstants.DEFAULT.MAX_DATE;\nconst DEFAULT_START_TIME = NgxDatetimeRangePickerConstants.DEFAULT.START_TIME;\nconst DEFAULT_END_TIME = NgxDatetimeRangePickerConstants.DEFAULT.END_TIME;\nconst DEFAULT_MODEL_KEYS = NgxDatetimeRangePickerConstants.DEFAULT.MODEL_KEYS;\nconst MONTHS_AVAILABLE = NgxDatetimeRangePickerConstants.CONSTANT.MONTHS_AVAILABLE;\nconst DEFAULT_TIMEZONE_CODE = NgxDatetimeRangePickerConstants.DEFAULT.TZ_CODE;\nconst EU_TZ_CODE = NgxDatetimeRangePickerConstants.CONSTANT.EU_TZ_CODE;\nconst TZ_NAMES = NgxDatetimeRangePickerConstants.CONSTANT.TZ_NAMES;\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class NgxDatetimeRangePickerService {\n  getNotAvailableText(): string {\n    return \"N/A\";\n  }\n\n  getDefaultAriaLabelOptions(): AriaLabelsOptions {\n    return {\n      inputField: \"Date Range Input Field\" as string\n    };\n  }\n\n  getDefaultOptions(): NgxDatetimeRangePickerOptions {\n    return {\n      dateArray: [] as string[],\n      startDate: DEFAULT_START_DATE as string,\n      endDate: DEFAULT_END_DATE as string,\n      minDate: DEFAULT_MIN_DATE as string,\n      maxDate: DEFAULT_MAX_DATE as string,\n      startTime: DEFAULT_START_TIME as string,\n      endTime: DEFAULT_END_TIME as string\n    };\n  }\n\n  getDefaultSettings(): NgxDatetimeRangePickerSettings {\n    return {\n      type: DEFAULT_TYPE as string,\n      modelKeys: DEFAULT_MODEL_KEYS as string[],\n      selectedModel: undefined as string,\n      showTimezoneSelect: false as boolean,\n      useLocalTimezone: false as boolean,\n      timePicker: false as boolean,\n      inputClass: DEFAULT_INPUT_CLASS as string,\n      inputDateFormat: null as string,\n      viewDateFormat: DEFAULT_DATE_FROMAT as string,\n      outputDateFormat: DEFAULT_DATE_FROMAT as string,\n      singleDatePicker: false as boolean,\n      componentDisabled: false as boolean,\n      placeholder: \"Select Date\" as string,\n      showRowNumber: true as boolean,\n      availableRanges: {} as Object,\n      showRanges: true as boolean,\n      disableWeekends: false as boolean,\n      disableWeekdays: false as boolean,\n      retailCalendar: false as boolean,\n      displayBeginDate: false as boolean,\n      displayEndDate: false as boolean,\n      ariaLabels: this.getDefaultAriaLabelOptions() as AriaLabelsOptions\n    };\n  }\n\n  formatDateToDefaultFormat(date, format = DEFAULT_DATE_FROMAT): string {\n    let fromattedDate = null;\n    if (date) {\n      if (!isNaN(Number(date))) {\n        fromattedDate = moment(date).format(DEFAULT_DATE_FROMAT);\n      } else {\n        if (!format) {\n          format = moment(date)._f;\n        } else {\n          if (format !== moment(date)._f) {\n            console.warn(\"ERR_NGX_DATETIME_RANGE_PICKER: inputDateFormat !== dateFormat\");\n          }\n        }\n        if (!format) {\n          console.warn(\n            \"ERR_NGX_DATETIME_RANGE_PICKER: The provided date is in unknown format. Pass the format or pass the date in known format\"\n          );\n        }\n        fromattedDate = moment(date, format).format(DEFAULT_DATE_FROMAT);\n      }\n    }\n\n    return fromattedDate;\n  }\n\n  formatTimeToDefaultFormat(time) {\n    let formattedTime = null;\n    if (time) {\n      if (time.indexOf(\":\") > -1) {\n        if (time.indexOf(\"AM\") > -1 || time.indexOf(\"PM\") > -1) {\n          formattedTime = moment(time, \"h:mm A\").format(DEFAULT_TIME_FORMAT);\n        } else {\n          formattedTime = time;\n        }\n      } else {\n        console.warn(\n          \"ERR_NGX_DATETIME_RANGE_PICKER: The provided time is not in correct format. Format: HH:mm or hh:mm A\"\n        );\n      }\n    }\n    return formattedTime;\n  }\n\n  getFrequencyColumnHeader(type) {\n    return (() => {\n      switch (type) {\n        case \"daily\":\n          return \"W#\";\n        case \"weekly\":\n          return \"\";\n        case \"monthly\":\n          return \"Q#\";\n        case \"quarterly\":\n          return \"Year\";\n        case \"yearly\":\n          return \"\";\n      }\n    })();\n  }\n\n  getCalendarRowNumberText(type, number) {\n    return (() => {\n      switch (type) {\n        case \"daily\":\n          return `W${number}`;\n        case \"weekly\":\n          return \"\";\n        case \"monthly\":\n          return `Q${number}`;\n        case \"quarterly\":\n          return `${number}`;\n        case \"yearly\":\n          return \"\";\n      }\n    })();\n  }\n\n  createDefaultRanges(config): Object {\n    const ranges = {};\n    const type = config.type;\n    const maxDate = _.cloneDeep(config.maxDate);\n    const formattedMaxDate = this.formatDateToDefaultFormat(maxDate, DEFAULT_DATE_FROMAT);\n\n    if (type === \"daily\") {\n      ranges[\"Last 7 Days\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(6, \"days\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate\n      };\n      ranges[\"Last 30 Days\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(29, \"days\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate\n      };\n      ranges[\"Last 90 Days\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(89, \"days\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate\n      };\n    } else if (type === \"weekly\") {\n      ranges[\"Last 4 Weeks\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(3, \"weeks\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate\n      };\n      ranges[\"Last 13 Weeks\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(12, \"weeks\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate\n      };\n      ranges[\"Last 26 Weeks\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(25, \"weeks\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate\n      };\n    } else if (type === \"monthly\") {\n      // if(retailCalendar) ? subtract(3, 'months')....so on for 'Last 3 Months'....so on\n      ranges[\"Last 3 Months\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(2, \"months\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate\n      };\n      ranges[\"Last 6 Months\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(5, \"months\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate\n      };\n      ranges[\"Last 9 Months\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(8, \"months\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate\n      };\n    } else if (type === \"quarterly\") {\n      // if(retailCalendar) ? subtract(1, 'quarters')....so on for 'Last 2 Quarters'....so on\n      ranges[\"Last 2 Quarters\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(1, \"quarters\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate\n      };\n      ranges[\"Last 4 Quarters\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(3, \"quarters\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate\n      };\n    } else if (type === \"yearly\") {\n      ranges[\"Last Year\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(1, \"year\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate\n      };\n    }\n    ranges[\"Custom Range\"] = { startDate: null, endDate: null };\n    return ranges;\n  }\n\n  getSanitizedDateArray(config) {\n    const sanitizedDateArray = [];\n    const type = config.type;\n    const dateArray = config.dateArray;\n    const inputDateFormat = config.inputDateFormat;\n\n    // dateArray can have nulls\n    _.forEach(dateArray, (date) => {\n      if (date) {\n        let format = null;\n        if (isNaN(Number(date))) {\n          if (inputDateFormat) {\n            format = inputDateFormat;\n          } else {\n            format = moment(date)._f;\n          }\n        }\n\n        if (inputDateFormat !== moment(date)._f) {\n          console.warn(\n            \"ERR_NGX_DATETIME_RANGE_PICKER: inputDateFormat !== dateFormat in dateArray. Converted dates might not be as expected\"\n          );\n        }\n\n        let value = format ? moment(date, format).format(format) : moment(date).valueOf();\n        if (type === \"weekly\") {\n          value = format\n            ? moment(date, format)\n                .endOf(\"week\")\n                .format(format)\n            : moment(date)\n                .endOf(\"week\")\n                .valueOf();\n        } else if (type === \"monthly\") {\n          value = format\n            ? moment(date, format)\n                .endOf(\"month\")\n                .format(format)\n            : moment(date)\n                .endOf(\"month\")\n                .valueOf();\n        } else if (type === \"quarterly\") {\n          value = format\n            ? moment(date, format)\n                .endOf(\"quarter\")\n                .format(format)\n            : moment(date)\n                .endOf(\"quarter\")\n                .valueOf();\n        } else if (type === \"yearly\") {\n          value = format\n            ? moment(date, format)\n                .endOf(\"year\")\n                .format(format)\n            : moment(date)\n                .endOf(\"year\")\n                .valueOf();\n        }\n        if (value) {\n          sanitizedDateArray.push(value);\n        } else {\n          console.warn(\n            `ERR_NGX_DATETIME_RANGE_PICKER: dateArray values are in unknown format. Pass the format or pass the dates in known format`\n          );\n        }\n      }\n    });\n\n    return _.uniqBy(sanitizedDateArray);\n  }\n\n  getNumberOfWeeks(date): number {\n    let numberOfWeeks = null;\n    if (date) {\n      const monthStart: number = moment(date, DEFAULT_DATE_FROMAT)\n        .startOf(\"month\")\n        .day();\n      const monthEnd: number = Number(\n        moment(date, DEFAULT_DATE_FROMAT)\n          .endOf(\"month\")\n          .format(\"D\")\n      );\n      numberOfWeeks = Math.ceil((monthStart + monthEnd) / 7);\n    }\n    return numberOfWeeks;\n  }\n\n  getYearlyWeekCount(year, retailCalendar?) {\n    let weekCount: number = null;\n    if (year) {\n      const yearStartDate = moment(year, \"YYYY\")\n        .startOf(\"year\")\n        .format(DEFAULT_DATE_FROMAT);\n      const yearEndDate = moment(year, \"YYYY\")\n        .endOf(\"year\")\n        .format(DEFAULT_DATE_FROMAT);\n      const yearEndWeekEndDate = moment(yearEndDate, DEFAULT_DATE_FROMAT)\n        .startOf(\"week\")\n        .format(DEFAULT_DATE_FROMAT);\n\n      const yearStartWeekEndDate = moment(yearStartDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"week\")\n        .format(DEFAULT_DATE_FROMAT);\n\n      const yearSartWeekNumber = this.getWeekNumber(yearStartWeekEndDate);\n      const yearEndWeekNumber = this.getWeekNumber(yearEndWeekEndDate);\n      weekCount = yearEndWeekNumber - yearSartWeekNumber + 1;\n    }\n    return weekCount;\n  }\n\n  getMonthsAvailable(minDate, maxDate, selectedYear) {\n    const months = [];\n    if (minDate && maxDate && selectedYear) {\n      let minDatems = moment(minDate, DEFAULT_DATE_FROMAT).valueOf();\n      let maxDatems = moment(maxDate, DEFAULT_DATE_FROMAT).valueOf();\n      const yearStartms = moment()\n        .year(selectedYear)\n        .startOf(\"year\")\n        .valueOf();\n      const yearEndms = moment()\n        .year(selectedYear)\n        .endOf(\"year\")\n        .valueOf();\n\n      if (minDatems < yearStartms) {\n        minDatems = yearStartms;\n      }\n      if (maxDatems > yearEndms) {\n        maxDatems = yearEndms;\n      }\n\n      let minDateMonthNumber = moment(minDatems).month();\n      const diff: number = moment(maxDatems).diff(moment(minDatems), \"months\");\n      const maxMonths = diff < MONTHS_AVAILABLE.length ? diff : MONTHS_AVAILABLE.length;\n\n      for (let i = 0; i <= maxMonths; i++) {\n        if (minDateMonthNumber >= MONTHS_AVAILABLE.length) {\n          months.push(MONTHS_AVAILABLE[minDateMonthNumber - MONTHS_AVAILABLE.length]);\n        } else {\n          months.push(MONTHS_AVAILABLE[minDateMonthNumber]);\n        }\n        minDateMonthNumber++;\n      }\n    }\n    return months;\n  }\n\n  getYearsAvailable(config) {\n    const minDate = config ? config.minDate : \"\";\n    const maxDate = config ? config.maxDate : \"\";\n    const years = [];\n    if (minDate && maxDate) {\n      const minYear = Number(this.getSelectedYear(config, minDate, \"left\"));\n      const maxYear = Number(this.getSelectedYear(config, maxDate, \"right\"));\n      const diff = maxYear - minYear;\n\n      for (let i = 0; i <= diff; i++) {\n        years.push(`${minYear + i}`);\n      }\n    }\n    return years.reverse();\n  }\n\n  isDateAvailable(date, minDate, maxDate, startDate, endDate, monthStartDate, monthEndDate, config): boolean {\n    let available = false;\n    const type = config.type;\n    const dateArray = config.dateArray ? config.dateArray : [];\n    const inputDateFormat = config.inputDateFormat;\n    const disableWeekends = config.disableWeekends;\n    const disableWeekdays = config.disableWeekdays;\n    if (type === \"daily\") {\n      minDate = minDate > monthStartDate ? minDate : monthStartDate;\n      maxDate = maxDate < monthEndDate ? maxDate : monthEndDate;\n    }\n\n    // if(date === minDate\n    //     || date === maxDate) {\n    //   available = true;\n    // }\n\n    if (date >= minDate && date <= maxDate) {\n      if (dateArray.length > 0) {\n        available = _.some(dateArray, (d) => {\n          let format = null;\n          if (isNaN(Number(date))) {\n            if (inputDateFormat) {\n              format = inputDateFormat;\n            } else {\n              format = moment(date)._f;\n            }\n          }\n          return moment(d, format).valueOf() === date;\n        });\n      } else {\n        available = true;\n      }\n\n      if (available) {\n        if (disableWeekends) {\n          available = !this.isWeekend(date);\n        }\n        if (disableWeekdays) {\n          available = !this.isWeekday(date);\n        }\n      }\n    }\n    return available;\n  }\n\n  isDateInRange(date, minDate, maxDate, startDate, endDate, monthStartDate, monthEndDate, available, config): boolean {\n    let inRange = false;\n    const type = config.type;\n    const singleDatePicker = config.singleDatePicker;\n    if (!singleDatePicker) {\n      if (type === \"daily\") {\n        minDate = monthStartDate;\n        maxDate = monthEndDate;\n      }\n      if (date >= startDate && date <= endDate && date >= minDate && date <= maxDate) {\n        if (available) {\n          inRange = true;\n        }\n      }\n    }\n    return inRange;\n  }\n\n  isDateActive(date, startDate, endDate, side): boolean {\n    let active = false;\n    if ((date === startDate && side === \"left\") || (date === endDate && side === \"right\")) {\n      active = true;\n    }\n    return active;\n  }\n\n  isDateToday(date, config): boolean {\n    let today = false;\n    const todayDate = moment()\n      .startOf(\"day\")\n      .valueOf();\n    const type = config.type;\n    const firstLastDay = this.getFirstLastDay(moment(todayDate).format(DEFAULT_DATE_FROMAT), type);\n    const firstDay = moment(firstLastDay.firstDay, DEFAULT_DATE_FROMAT).valueOf();\n    const lastDay = moment(firstLastDay.lastDay, DEFAULT_DATE_FROMAT).valueOf();\n    if (date >= firstDay && date <= lastDay) {\n      today = true;\n    }\n    return today;\n  }\n\n  isWeekday(date, format?) {\n    return !this.isWeekend(date, format);\n  }\n\n  isWeekend(date, format?) {\n    if (!format) {\n      format = null;\n    }\n    const day = moment(date, format).day();\n    return day === 0 || day === 6 ? true : false;\n  }\n\n  getCalendarRowVariables(options) {\n    const variables: any = {};\n    const type = options.type;\n    const monthStartWeekNumber = options.monthStartWeekNumber;\n    const dateRows = options.dateRows;\n    const year = `${options.year}`;\n\n    if (type === \"daily\") {\n      variables.rowNumber = monthStartWeekNumber + dateRows;\n      variables.columns = 6;\n    } else if (type === \"weekly\") {\n      // variables.rowNumber = `${(dateRows*2)+1} - ${(dateRows*2)+2}`;\n      variables.rowNumber = ``;\n      variables.columns = 6;\n    } else if (type === \"monthly\") {\n      variables.rowNumber = dateRows + 1;\n      variables.columns = 2;\n    } else if (type === \"quarterly\") {\n      variables.rowNumber = year.charAt(dateRows);\n      variables.columns = 0;\n    } else if (type === \"yearly\") {\n      variables.rowNumber = \"\";\n      variables.columns = 0;\n    }\n\n    return variables;\n  }\n\n  getCalendarRowItemVariables(options) {\n    const variables: any = {\n      currentItemDate: \"\",\n      rowItemText: \"\",\n      itemCount: null\n    };\n    const type = options.type;\n    const monthStartWeekNumber = options.monthStartWeekNumber;\n    const yearStartDate = options.yearStartDate;\n    const year = options.year;\n    const rowItem = options.rowItem;\n    const dateRows = options.dateRows;\n    const columns = options.columns;\n    const itemCount = rowItem + dateRows * columns + dateRows;\n    let currentItemDate = \"\";\n    let rowItemText = \"\";\n    let firstLastDayObject: any = {};\n\n    if (type === \"daily\") {\n      if (!_.isNil(monthStartWeekNumber) && !_.isNil(dateRows) && !_.isNil(year)) {\n        const yearStartDateDaily = moment()\n          .year(year)\n          .startOf(\"year\")\n          .format(DEFAULT_DATE_FROMAT);\n        currentItemDate = moment(yearStartDateDaily, DEFAULT_DATE_FROMAT)\n          .add(monthStartWeekNumber + dateRows - 1, \"week\")\n          .startOf(\"week\")\n          .add(rowItem, \"day\")\n          .format(DEFAULT_DATE_FROMAT);\n        rowItemText = moment(currentItemDate, DEFAULT_DATE_FROMAT).format(\"D\");\n      }\n    } else if (type === \"weekly\") {\n      if (!_.isNil(yearStartDate) && !_.isNil(itemCount)) {\n        currentItemDate = moment(yearStartDate, DEFAULT_DATE_FROMAT)\n          .add(itemCount, \"week\")\n          .endOf(\"week\")\n          .format(DEFAULT_DATE_FROMAT);\n        const weekNumber: any = itemCount + 1;\n        rowItemText = `W${weekNumber}`;\n      }\n    } else if (type === \"monthly\") {\n      if (!_.isNil(itemCount) && !_.isNil(year)) {\n        currentItemDate = moment()\n          .year(year)\n          .month(itemCount)\n          .endOf(\"month\")\n          .format(DEFAULT_DATE_FROMAT);\n        rowItemText = moment(currentItemDate, DEFAULT_DATE_FROMAT).format(\"MMM\");\n      }\n    } else if (type === \"quarterly\") {\n      if (!_.isNil(itemCount) && !_.isNil(year)) {\n        currentItemDate = moment()\n          .year(year)\n          .quarter(itemCount + 1)\n          .endOf(\"quarter\")\n          .format(DEFAULT_DATE_FROMAT);\n        rowItemText = `Quarter ${itemCount + 1}`;\n      }\n    }\n\n    firstLastDayObject = this.getFirstLastDay(currentItemDate, type);\n\n    variables.itemCount = itemCount;\n    variables.currentItemDate = currentItemDate;\n    variables.rowItemText = rowItemText;\n    variables.firstDay = firstLastDayObject.firstDay;\n    variables.lastDay = firstLastDayObject.lastDay;\n    return variables;\n  }\n\n  isRowIemValid(options): boolean {\n    let valid = false;\n    const type = options.type;\n    const year = options.year;\n    const itemCount = options.itemCount;\n    const retailCalendar = options.retailCalendar;\n    const validWeekCount = this.getYearlyWeekCount(year, retailCalendar);\n\n    if (type === \"daily\") {\n      valid = true;\n    } else if (type === \"weekly\") {\n      if (itemCount < validWeekCount) {\n        valid = true;\n      }\n    } else if (type === \"monthly\") {\n      return true;\n    } else if (type === \"quarterly\") {\n      return true;\n    }\n\n    return valid;\n  }\n\n  formatStartDate(config, returnFormat) {\n    const startDate = config ? config.startDate : null;\n    const type = config ? config.type : \"\";\n    let formattedStartDate = null;\n\n    if (startDate) {\n      formattedStartDate = moment(startDate, DEFAULT_DATE_FROMAT).format(returnFormat);\n      if (type === \"weekly\") {\n        formattedStartDate = moment(startDate, DEFAULT_DATE_FROMAT)\n          .startOf(\"week\")\n          .format(returnFormat);\n      } else if (type === \"monthly\") {\n        formattedStartDate = moment(startDate, DEFAULT_DATE_FROMAT)\n          .startOf(\"month\")\n          .format(returnFormat);\n      } else if (type === \"quarterly\") {\n        formattedStartDate = moment(startDate, DEFAULT_DATE_FROMAT)\n          .startOf(\"quarter\")\n          .format(returnFormat);\n      } else if (type === \"yearly\") {\n        formattedStartDate = moment(startDate, DEFAULT_DATE_FROMAT)\n          .startOf(\"year\")\n          .format(returnFormat);\n      }\n    }\n\n    return formattedStartDate;\n  }\n\n  getSelectedYear(config, date, side): string {\n    return moment(date, DEFAULT_DATE_FROMAT).format(\"YYYY\");\n  }\n\n  getFirstLastDay(date, type) {\n    let firstDay = \"\";\n    let lastDay = \"\";\n\n    if (type === \"daily\") {\n      firstDay = lastDay = date;\n    } else if (type === \"weekly\") {\n      firstDay = moment(date, DEFAULT_DATE_FROMAT)\n        .startOf(\"week\")\n        .format(DEFAULT_DATE_FROMAT);\n      lastDay = moment(date, DEFAULT_DATE_FROMAT)\n        .endOf(\"week\")\n        .format(DEFAULT_DATE_FROMAT);\n    } else if (type === \"monthly\") {\n      firstDay = moment(date, DEFAULT_DATE_FROMAT)\n        .startOf(\"month\")\n        .format(DEFAULT_DATE_FROMAT);\n      lastDay = moment(date, DEFAULT_DATE_FROMAT)\n        .endOf(\"month\")\n        .format(DEFAULT_DATE_FROMAT);\n    } else if (type === \"quarterly\") {\n      firstDay = moment(date, DEFAULT_DATE_FROMAT)\n        .startOf(\"quarter\")\n        .format(DEFAULT_DATE_FROMAT);\n      lastDay = moment(date, DEFAULT_DATE_FROMAT)\n        .endOf(\"quarter\")\n        .format(DEFAULT_DATE_FROMAT);\n    } else if (type === \"yearly\") {\n      firstDay = moment(date, DEFAULT_DATE_FROMAT)\n        .startOf(\"year\")\n        .format(DEFAULT_DATE_FROMAT);\n      lastDay = moment(date, DEFAULT_DATE_FROMAT)\n        .endOf(\"year\")\n        .format(DEFAULT_DATE_FROMAT);\n    }\n\n    return {\n      firstDay,\n      lastDay\n    };\n  }\n\n  getLocalTimezone() {\n    let tz = /\\((.*)\\)/.exec(new Date().toString())[1];\n\n    if (tz === \"Central Europe Standard Time\") {\n      tz = EU_TZ_CODE;\n    } else {\n      tz = DEFAULT_TIMEZONE_CODE;\n    }\n\n    return tz;\n  }\n\n  getZoneDate(tz, format, date?) {\n    if (date) {\n      date = moment(date, format)\n        .startOf(\"day\")\n        .valueOf();\n    } else {\n      date = moment().valueOf();\n    }\n\n    let today = new Date(date).toLocaleString(\"en-US\", {\n      timeZone: TZ_NAMES[tz]\n    });\n    today = moment(today, \"MM/DD/YYYY, hh:mm:ss A\");\n    return today;\n  }\n\n  getZoneToday(tz, viewDateFormat) {\n    const today = this.getZoneDate(tz, viewDateFormat);\n    return moment(today).format(`${viewDateFormat}  hh:mm A`);\n  }\n\n  formatToZoneDate(tz, format, date) {\n    const formattedDate = this.getZoneDate(tz, format, date);\n    return moment(formattedDate).format(`${format}`);\n  }\n\n  convertToViewTimeItem(item) {\n    let stringified_item = item + \"\";\n    if (stringified_item.length === 1) {\n      stringified_item = `0${stringified_item}`;\n    }\n    return stringified_item;\n  }\n\n  getWeekNumber(date): any {\n    if (date) {\n      const year = moment(date, \"YYYY-MM-DD\").year();\n      const month = moment(date, \"YYYY-MM-DD\").month();\n      const day = Number(moment(date, \"YYYY-MM-DD\").format(\"D\"));\n\n      const yearStartms = new Date(year, 0, 1);\n      const datems = new Date(year, month, day);\n      return Math.ceil(((datems.getTime() - yearStartms.getTime()) / 86400000 + yearStartms.getDay() + 1) / 7);\n    } else {\n      console.warn(\"getWeekNumber: Invalid date\");\n      return this.getNotAvailableText();\n    }\n  }\n}\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  Renderer,\n  SimpleChanges,\n  ViewChild,\n  ViewEncapsulation\n} from \"@angular/core\";\nimport { Observable } from \"rxjs\";\nimport { NgxDatetimeRangePickerConstants } from \"./ngx-datetime-range-picker.constants\";\nimport { NgxDatetimeRangePickerService } from \"./ngx-datetime-range-picker.service\";\nimport {\n  CalendarSides,\n  NgxDatetimeRangePickerModelItem,\n  NgxDatetimeRangePickerOptions,\n  NgxDatetimeRangePickerSettings\n} from \"./interfaces/index\";\n\ndeclare var require: any;\nconst moment = require(\"moment\");\nconst _ = require(\"lodash\");\n\nenum InputFocusBlur {\n  focus = 1,\n  blur = 2\n}\n\nconst DEFAULT_DATE_FROMAT = NgxDatetimeRangePickerConstants.DEFAULT.DATE_FROMAT;\nconst DEFAULT_TIME_FORMAT = NgxDatetimeRangePickerConstants.DEFAULT.TIME_FORMAT;\nconst DEFAULT_START_DATE = NgxDatetimeRangePickerConstants.DEFAULT.START_DATE;\nconst DEFAULT_END_DATE = NgxDatetimeRangePickerConstants.DEFAULT.END_DATE;\nconst DEFAULT_MIN_DATE = NgxDatetimeRangePickerConstants.DEFAULT.MIN_DATE;\nconst DEFAULT_MAX_DATE = NgxDatetimeRangePickerConstants.DEFAULT.MAX_DATE;\nconst DEFAULT_START_TIME = NgxDatetimeRangePickerConstants.DEFAULT.START_TIME;\nconst DEFAULT_END_TIME = NgxDatetimeRangePickerConstants.DEFAULT.END_TIME;\nconst TZ_CODES = NgxDatetimeRangePickerConstants.CONSTANT.TZ_CODES;\nconst USA_TZ_CODE = NgxDatetimeRangePickerConstants.CONSTANT.USA_TZ_CODE;\n\n@Component({\n  selector: \"ngx-datetime-range-picker\",\n  templateUrl: \"./ngx-datetime-range-picker.component.html\",\n  styleUrls: [\"./ngx-datetime-range-picker.component.scss\"],\n  encapsulation: ViewEncapsulation.None\n})\nexport class NgxDatetimeRangePickerComponent implements OnChanges {\n  @Input() options: NgxDatetimeRangePickerOptions;\n  @Input() settings: NgxDatetimeRangePickerSettings;\n  @Input() optionService: Observable<any>;\n  @Input() dateRangeModel: Object;\n  @Input() canBeEmpty = false;\n  @Output() dateRangeModelChange: EventEmitter<Object> = new EventEmitter<Object>();\n  @Output() dateRangeChanged: EventEmitter<NgxDatetimeRangePickerModelItem> = new EventEmitter<\n    NgxDatetimeRangePickerModelItem\n  >();\n  @Output() inputFocusBlur: EventEmitter<Object> = new EventEmitter<Object>();\n  @Output() selectedDate: EventEmitter<Object> = new EventEmitter<Object>();\n  @ViewChild(\"filterInputBox\") filterInputBox: any;\n\n  sides: string[] = [];\n  dates: CalendarSides = {\n    left: {} as Object,\n    right: {} as Object\n  };\n  calendarAvailable: CalendarSides = {\n    left: false as boolean,\n    right: false as boolean\n  };\n  showCalendar = false;\n  customRange = false;\n  selectedDateText = \"\";\n  dateTitleText: CalendarSides = {\n    left: \"\" as string,\n    right: \"\" as string\n  };\n  weekDayOptions: string[] = [\"su\", \"mo\", \"tu\", \"we\", \"th\", \"fr\", \"sa\"];\n  selectedMonth: CalendarSides = {\n    left: \"\" as string,\n    right: \"\" as string\n  };\n  selectedYear: CalendarSides = {\n    left: \"\" as string,\n    right: \"\" as string\n  };\n  activeItem: CalendarSides = {\n    left: \"\" as string,\n    right: \"\" as string\n  };\n  activeStartDate: string = null;\n  activeEndDate: string = null;\n  activeRange: string = null;\n  frequencyColumnHeader: string = null;\n\n  config: any = {};\n\n  isValidFilter = false;\n  isUserModelChange = true;\n\n  timezones: string[] = TZ_CODES;\n  localTimezone: string = this.ngxDateTimeRangePickerService.getLocalTimezone();\n  // Since 'useLocalTimezone: false' byDefault;\n  selectedTimezone: string;\n  todayTime = \"\";\n\n  timeItems: string[] = [\"hour\", \"minute\"];\n  times: CalendarSides = {\n    left: \"\" as string,\n    right: \"\" as string\n  };\n  selectedHour: CalendarSides = {\n    left: \"\" as string,\n    right: \"\" as string\n  };\n  selectedMinute: CalendarSides = {\n    left: \"\" as string,\n    right: \"\" as string\n  };\n  selectedMeridian: CalendarSides = {\n    left: \"\" as string,\n    right: \"\" as string\n  };\n\n  constructor(\n    public element: ElementRef,\n    private renderer: Renderer,\n    private ngxDateTimeRangePickerService: NgxDatetimeRangePickerService\n  ) {\n    this.options = this.ngxDateTimeRangePickerService.getDefaultOptions();\n    this.settings = this.ngxDateTimeRangePickerService.getDefaultSettings();\n    this.config = Object.assign(this.options, this.settings);\n\n    this.todayTime = this.ngxDateTimeRangePickerService.getZoneToday(this.selectedTimezone, this.config.viewDateFormat);\n\n    this.renderer.listenGlobal(\"document\", \"click\", (event: any) => {\n      if (\n        this.showCalendar &&\n        event.target &&\n        event.target.className !== \"mat-option-text\" &&\n        this.element.nativeElement !== event.target &&\n        !this.element.nativeElement.contains(event.target)\n      ) {\n        this.onCalendarClose(event);\n      }\n    });\n  }\n\n  public ngOnChanges(changes: SimpleChanges) {\n    this.isUserModelChange = true;\n\n    if (changes.canBeEmpty) {\n      this.canBeEmpty = changes.canBeEmpty.currentValue;\n    }\n\n    if (changes.settings) {\n      this.settings = _.merge(this.settings, changes.settings.currentValue);\n    }\n\n    if (changes.dateRangeModel) {\n      this.dateRangeModel = changes.dateRangeModel.currentValue;\n    }\n\n    // this.settings.selectedModel = (this.settings.selectedModel) ? this.settings.selectedModel : this.settings.type;\n\n    if (changes.dateRangeModel && !changes.dateRangeModel.firstChange) {\n      const previousValue = changes.dateRangeModel.previousValue[this.config.selectedModel];\n      const currentValue = changes.dateRangeModel.currentValue[this.config.selectedModel];\n      if (\n        previousValue &&\n        currentValue &&\n        previousValue.startDate === currentValue.startDate &&\n        previousValue.endDate === currentValue.endDate\n      ) {\n        this.isUserModelChange = false;\n      }\n    }\n\n    if (changes.optionService && changes.optionService.currentValue) {\n      changes.optionService.currentValue.subscribe(\n        (dateOptions: any) => {\n          if (_.isObject(dateOptions) && !_.isArray(dateOptions)) {\n            this.options = dateOptions.plain ? dateOptions.plain() : dateOptions;\n          }\n        },\n        (err) => {\n          console.error(\"DateRangePickerComponent | Filter Call Failure: \", err);\n        },\n        () => {\n          this.init();\n        }\n      );\n    }\n\n    if (changes.options) {\n      this.options = changes.options ? changes.options.currentValue : this.options;\n    }\n\n    if (!changes.optionService) {\n      this.init();\n    }\n  }\n\n  // Events\n  onDateRangeInputChange(value: string) {\n    this.dateRangeSelected();\n  }\n\n  setDisabledState(disabled: boolean): void {\n    this.config.componentDisabled = disabled;\n  }\n\n  onComponentClick(): void {\n    this.showCalendar = !this.showCalendar;\n  }\n\n  onFocusInput(event: any): void {\n    this.inputFocusBlur.emit({\n      reason: InputFocusBlur.focus,\n      value: event.target.value\n    });\n  }\n\n  onBlurInput(event: any): void {\n    this.selectedDateText = event.target.value;\n    this.inputFocusBlur.emit({\n      reason: InputFocusBlur.blur,\n      value: event.target.value\n    });\n  }\n\n  onCalendarClose(event: any): void {\n    if (this.config.startDate && this.config.endDate) {\n      this.filterInputBox.nativeElement.classList.remove(\"empty-filter\");\n      this.showCalendar = false;\n    } else {\n      // this.filterInputBox.nativeElement.classList.add('empty-filter');\n    }\n  }\n\n  isPrevAvailale(month) {\n    const minDate = this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(\n      this.config.minDate,\n      DEFAULT_DATE_FROMAT\n    );\n    const currentMonthStartDate = moment(month, \"MMM YYYY\")\n      .startOf(\"month\")\n      .valueOf();\n    if (\n      currentMonthStartDate >\n      moment(minDate, DEFAULT_DATE_FROMAT)\n        .startOf(\"month\")\n        .valueOf()\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  isNextAvailale(month) {\n    const maxDate = this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(\n      this.config.maxDate,\n      DEFAULT_DATE_FROMAT\n    );\n    const currentMonthEndDate = moment(month, \"MMM YYYY\")\n      .endOf(\"month\")\n      .valueOf();\n    if (\n      currentMonthEndDate <\n      moment(maxDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"month\")\n        .valueOf()\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  getCalendarColspan() {\n    if (this.config.type === \"daily\") {\n      return 6;\n    } else if (this.config.type === \"weekly\") {\n      return 8;\n    } else if (this.config.type === \"monthly\") {\n      return 3;\n    } else if (this.config.type === \"quarterly\") {\n      return 1;\n    } else if (this.config.type === \"yearly\") {\n      return 1;\n    }\n  }\n\n  getCalendarRowItemColspan() {\n    if (this.config.type === \"monthly\") {\n      return 3;\n    } else if (this.config.type === \"quarterly\") {\n      return 6;\n    } else if (this.config.type === \"yearly\") {\n      return 6;\n    }\n  }\n\n  getDatecharacteristics(date, month, side) {\n    const currentDate = moment(date, DEFAULT_DATE_FROMAT)\n      .startOf(\"day\")\n      .valueOf();\n    const minDate = moment(\n      this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(this.config.minDate, DEFAULT_DATE_FROMAT),\n      DEFAULT_DATE_FROMAT\n    )\n      .startOf(\"day\")\n      .valueOf();\n    const maxDate = moment(\n      this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(this.config.maxDate, DEFAULT_DATE_FROMAT),\n      DEFAULT_DATE_FROMAT\n    )\n      .startOf(\"day\")\n      .valueOf();\n    const startDate = moment(\n      this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(this.config.startDate, DEFAULT_DATE_FROMAT),\n      DEFAULT_DATE_FROMAT\n    )\n      .startOf(\"day\")\n      .valueOf();\n    const endDate = moment(\n      this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(this.config.endDate, DEFAULT_DATE_FROMAT),\n      DEFAULT_DATE_FROMAT\n    )\n      .startOf(\"day\")\n      .valueOf();\n    const currentMonthStartDate = moment(month, \"MMM YYYY\")\n      .startOf(\"month\")\n      .startOf(\"day\")\n      .valueOf();\n    const currentMonthEndDate = moment(month, \"MMM YYYY\")\n      .endOf(\"month\")\n      .startOf(\"day\")\n      .valueOf();\n\n    const available: boolean = this.ngxDateTimeRangePickerService.isDateAvailable(\n      currentDate,\n      minDate,\n      maxDate,\n      startDate,\n      endDate,\n      currentMonthStartDate,\n      currentMonthEndDate,\n      this.config\n    );\n    const inRange: boolean = this.ngxDateTimeRangePickerService.isDateInRange(\n      currentDate,\n      minDate,\n      maxDate,\n      startDate,\n      endDate,\n      currentMonthStartDate,\n      currentMonthEndDate,\n      available,\n      this.config\n    );\n    const active: boolean = this.ngxDateTimeRangePickerService.isDateActive(currentDate, startDate, endDate, side);\n    const today: boolean = this.ngxDateTimeRangePickerService.isDateToday(currentDate, this.config);\n\n    // Active\n    if (currentDate === startDate && side === \"left\") {\n      this.activeStartDate = date;\n    } else if (currentDate === endDate && side === \"right\") {\n      this.activeEndDate = date;\n    }\n\n    return {\n      available,\n      inRange,\n      active,\n      today\n    };\n  }\n\n  onClickPrevious(month, side) {\n    const startDate = moment(month, \"MMM YYYY\")\n      .subtract(1, \"month\")\n      .startOf(\"month\")\n      .format(DEFAULT_DATE_FROMAT);\n    this.dates[side] = this.generateCalendar(startDate, side);\n  }\n\n  onClickNext(month, side) {\n    const endDate = moment(month, \"MMM YYYY\")\n      .add(1, \"month\")\n      .endOf(\"month\")\n      .format(DEFAULT_DATE_FROMAT);\n    this.dates[side] = this.generateCalendar(endDate, side);\n  }\n\n  onCellClick(item, itemCell, side) {\n    const date = item.date ? moment(item.date, DEFAULT_DATE_FROMAT).valueOf() : item.date;\n    const startDate = this.config.startDate\n      ? moment(this.config.startDate, DEFAULT_DATE_FROMAT).valueOf()\n      : this.config.startDate;\n    const endDate = this.config.endDate\n      ? moment(this.config.endDate, DEFAULT_DATE_FROMAT).valueOf()\n      : this.config.endDate;\n    const minDate = this.config.minDate\n      ? moment(this.config.minDate, DEFAULT_DATE_FROMAT).valueOf()\n      : this.config.minDate;\n    const maxDate = this.config.maxDate\n      ? moment(this.config.maxDate, DEFAULT_DATE_FROMAT).valueOf()\n      : this.config.maxDate;\n\n    if (!item.available) {\n      if (date < minDate || date > maxDate) {\n        return;\n      }\n      this.dates[side] = this.generateCalendar(item.date, side);\n    }\n\n    if (endDate || date < startDate) {\n      this.config.endDate = null;\n      this.config.startDate = item.date;\n      this.activeItem.left = item;\n    } else if (!endDate && date < startDate) {\n      this.config.endDate = _.cloneDeep(this.config.startDate);\n      this.activeItem.right = item;\n    } else {\n      this.config.endDate = item.date;\n      this.activeItem.right = item;\n    }\n\n    if (this.config.singleDatePicker) {\n      this.config.endDate = _.cloneDeep(this.config.startDate);\n      this.activeItem.right = this.activeItem.left = item;\n    }\n\n    this.doApply();\n  }\n\n  onCellMouseEnter(item, itemCell): void {\n    if (!item.available) {\n      return;\n    }\n\n    const date = item.date ? moment(item.date, DEFAULT_DATE_FROMAT).valueOf() : item.date;\n    const startDate = this.config.startDate\n      ? moment(this.config.startDate, DEFAULT_DATE_FROMAT).valueOf()\n      : this.config.startDate;\n    const endDate = this.config.endDate\n      ? moment(this.config.endDate, DEFAULT_DATE_FROMAT).valueOf()\n      : this.config.endDate;\n    let hoverItemFirstDate = itemCell ? itemCell.getAttribute(\"firstDay\") : \"\";\n    let hoverItemLastDate = itemCell ? itemCell.getAttribute(\"lastDay\") : \"\";\n    const hoverItemText = itemCell ? itemCell.innerText : \"\";\n    hoverItemFirstDate = moment(hoverItemFirstDate, DEFAULT_DATE_FROMAT).format(this.config.viewDateFormat);\n    hoverItemLastDate = moment(hoverItemLastDate, DEFAULT_DATE_FROMAT).format(this.config.viewDateFormat);\n\n    let activeItemInputFieldText = `${hoverItemText} (${hoverItemFirstDate} - ${hoverItemLastDate})`;\n\n    if (this.config.type === \"daily\") {\n      activeItemInputFieldText = `${hoverItemLastDate}`;\n    }\n\n    if (!endDate) {\n      _.forOwn(this.dates, (sideDates, side) => {\n        _.forEach(sideDates.itemRows, (rows) => {\n          _.forEach(rows.items, (rowItem) => {\n            if (rowItem.available) {\n              const hoverItemDate = rowItem.date ? moment(rowItem.date, DEFAULT_DATE_FROMAT).valueOf() : rowItem.date;\n              if ((hoverItemDate > startDate && hoverItemDate < date) || date === hoverItemDate) {\n                rowItem.inRange = true;\n                this.dateTitleText.right = activeItemInputFieldText;\n              }\n            }\n          });\n        });\n      });\n    } else {\n      if (this.config.singleDatePicker) {\n        this.dateTitleText.right = activeItemInputFieldText;\n      } else {\n        this.dateTitleText.left = activeItemInputFieldText;\n      }\n    }\n  }\n\n  onCellMouseLeave(): void {\n    if (!this.config.endDate) {\n      _.forOwn(this.dates, (sideDates, side) => {\n        _.forEach(sideDates.itemRows, (rows) => {\n          _.forEach(rows.items, (item) => {\n            item.inRange = false;\n          });\n        });\n      });\n    } else {\n      this.updateActiveItemInputField();\n    }\n  }\n\n  onRangeClick(rangeLabel, dateRangeModel: any) {\n    this.activeRange = rangeLabel;\n    if (rangeLabel === \"Custom Range\") {\n      this.customRange = !this.customRange;\n      if (this.customRange) {\n        this.updateCalendar();\n      } else {\n        this.sides.length = 0;\n        this.dates = {};\n        if (this.config.timePicker) {\n          this.times = {};\n        }\n      }\n    } else {\n      this.config.startDate = dateRangeModel.startDate;\n      this.config.endDate = dateRangeModel.endDate;\n      if (this.config.timePicker) {\n        // _.forEach(this.sides, (side) => {\n        //   this.times[side] = this.generateTimePicker(null, side);\n        // })\n        if (this.config.timePicker) {\n          this.times = {};\n        }\n        this.updateCalendar();\n      }\n      this.setActiveItemOnRangeClick();\n    }\n  }\n\n  updateCalendar() {\n    this.sides.length = 0;\n    this.dates = {};\n    // takes 223 milliSeconds\n    // Order is important left - right\n    if (!this.config.singleDatePicker) {\n      this.sides.push(\"left\");\n      this.dates.left = this.generateCalendar(this.config.startDate, \"left\");\n      if (this.config.timePicker) {\n        this.times.left = this.generateTimePicker(this.config.startTime, \"left\");\n      }\n    }\n    this.sides.push(\"right\");\n    this.dates.right = this.generateCalendar(this.config.endDate, \"right\");\n    if (this.config.timePicker) {\n      this.times.right = this.generateTimePicker(this.config.endTime, \"right\");\n    }\n  }\n\n  onCalendarLabelChange(label, side, type) {\n    this.showCalendar = true;\n    if (type === \"month\") {\n      this.selectedMonth[side] = label;\n    } else if (type === \"year\") {\n      this.selectedYear[side] = label;\n    }\n\n    if (this.config.type !== \"daily\") {\n      this.selectedMonth[side] = \"Jun\";\n    }\n\n    if (this.config.type !== \"yearly\") {\n      const selectedMonth = `${this.selectedMonth[side]} ${this.selectedYear[side]}`;\n      const date = moment(selectedMonth, \"MMM YYYY\")\n        .startOf(\"month\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.dates[side] = this.generateCalendar(date, side);\n    } else {\n      if (this.selectedYear.left <= this.selectedYear.right && side === \"right\") {\n        this.config.startDate = moment(this.selectedYear.left, \"YYYY\")\n          .startOf(\"year\")\n          .format(DEFAULT_DATE_FROMAT);\n        this.config.endDate = moment(this.selectedYear.right, \"YYYY\")\n          .endOf(\"year\")\n          .format(DEFAULT_DATE_FROMAT);\n\n        this.doApply();\n      }\n      const config = {\n        startDate: moment(this.selectedYear.left, \"YYYY\")\n          .startOf(\"year\")\n          .format(DEFAULT_DATE_FROMAT),\n        type: \"yearly\"\n      };\n      const startDate = this.ngxDateTimeRangePickerService.formatStartDate(config, this.config.viewDateFormat);\n      const endDate = this.config.endDate\n        ? moment(this.config.endDate, DEFAULT_DATE_FROMAT).format(this.config.viewDateFormat)\n        : \"\";\n      this.dateTitleText.left = `${startDate}`;\n      this.dateTitleText.right = `${endDate}`;\n    }\n  }\n\n  onTimeLabelChange(timeItem, side, item) {\n    let time = null;\n    if (side === \"left\") {\n      time = this.config.startTime.split(\":\");\n      if (timeItem === \"hour\") {\n        this.config.startTime = `${item}:${time[1]}`;\n      } else {\n        this.config.startTime = `${time[0]}:${item}`;\n      }\n\n      const startDateEpoch = moment(this.config.startDate, DEFAULT_DATE_FROMAT).valueOf();\n      const endDateEpoch = moment(this.config.endDate, DEFAULT_DATE_FROMAT).valueOf();\n      if (startDateEpoch === endDateEpoch) {\n        this.times.right = this.generateTimePicker(this.config.startTime, \"right\");\n      }\n    } else {\n      time = this.config.endTime.split(\":\");\n      if (timeItem === \"hour\") {\n        this.config.endTime = `${item}:${time[1]}`;\n      } else {\n        this.config.endTime = `${time[0]}:${item}`;\n      }\n    }\n\n    if (timeItem === \"hour\") {\n      this.selectedHour[side] = this.ngxDateTimeRangePickerService.convertToViewTimeItem(item);\n    } else {\n      this.selectedMinute[side] = this.ngxDateTimeRangePickerService.convertToViewTimeItem(item);\n    }\n  }\n\n  onTimeApply() {\n    this.dateRangeSelected();\n    this.updateInputField();\n  }\n\n  // Helpers\n  init() {\n    if (this.isUserModelChange) {\n      this.isValidFilter = false;\n      this.config = Object.assign(\n        this.ngxDateTimeRangePickerService.getDefaultOptions(),\n        this.ngxDateTimeRangePickerService.getDefaultSettings()\n      );\n      this.initialize();\n      this.parseOptions();\n      this.updateInputField();\n    }\n  }\n\n  initialize() {\n    this.sides.length = 0;\n    this.dates = {};\n    this.calendarAvailable = {\n      left: false as boolean,\n      right: false as boolean\n    };\n    this.showCalendar = false;\n    this.selectedDateText = \"\";\n    this.dateTitleText = {\n      left: \"\" as string,\n      right: \"\" as string\n    };\n    this.weekDayOptions = [\"su\", \"mo\", \"tu\", \"we\", \"th\", \"fr\", \"sa\"];\n    this.selectedMonth = {\n      left: \"\" as string,\n      right: \"\" as string\n    };\n    this.selectedYear = {\n      left: \"\" as string,\n      right: \"\" as string\n    };\n    // this.activeItem = {\n    //   'left': <string> '',\n    //   'right': <string> ''\n    // };\n    this.times = {\n      left: \"\" as string,\n      right: \"\" as string\n    };\n    this.activeStartDate = null;\n    this.activeEndDate = null;\n    this.frequencyColumnHeader = null;\n    this.customRange = false;\n    this.activeRange = \"\";\n  }\n\n  parseOptions(): void {\n    if (this.options !== undefined) {\n      Object.keys(this.options).forEach((k) => {\n        this.config[k] = this.options[k];\n      });\n    }\n    if (this.settings !== undefined) {\n      Object.keys(this.settings).forEach((k) => {\n        this.config[k] = this.settings[k];\n      });\n    }\n\n    this.config.selectedModel = this.config.selectedModel ? this.config.selectedModel : this.config.type;\n\n    if (this.config.type === \"weekly\" || this.config.type === \"yearly\") {\n      this.config.showRowNumber = false;\n    }\n    if (this.config.singleDatePicker) {\n      this.config.startDate = _.cloneDeep(this.config.endDate);\n    }\n\n    this.selectTimeZone();\n    this.parseOptionsToDefaultDateFormat();\n    this.processDateRangeModel();\n    this.handleDateArray();\n    this.sanitizeDates();\n    this.processRanges();\n    this.doDateRangeModelChange();\n    // this.config.selectedModel = undefined;\n  }\n\n  selectTimeZone() {\n    if (this.config.timezoneSupport) {\n      if (!this.config.defaultTimezone) {\n        this.config.defaultTimezone = USA_TZ_CODE;\n      }\n      this.selectedTimezone = this.config.defaultTimezone;\n    }\n\n    if (this.config.useLocalTimezone) {\n      this.selectedTimezone = this.localTimezone;\n    }\n    this.onTimezoneChange(this.selectedTimezone);\n  }\n\n  parseOptionsToDefaultDateFormat() {\n    this.config.minDate = this.config.minDate\n      ? this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(this.config.minDate, this.config.inputDateFormat)\n      : DEFAULT_MIN_DATE;\n    this.config.maxDate = this.config.maxDate\n      ? this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(this.config.maxDate, this.config.inputDateFormat)\n      : DEFAULT_MAX_DATE;\n    this.config.startDate = this.config.startDate\n      ? this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(this.config.startDate, this.config.inputDateFormat)\n      : DEFAULT_START_DATE;\n    this.config.endDate = this.config.endDate\n      ? this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(this.config.endDate, this.config.inputDateFormat)\n      : DEFAULT_END_DATE;\n\n    if (this.config.timePicker) {\n      this.config.minTime = this.config.minTime\n        ? this.ngxDateTimeRangePickerService.formatTimeToDefaultFormat(this.config.minTime)\n        : DEFAULT_START_TIME;\n      this.config.maxTime = this.config.maxTime\n        ? this.ngxDateTimeRangePickerService.formatTimeToDefaultFormat(this.config.maxTime)\n        : DEFAULT_END_TIME;\n      this.config.startTime = this.config.startTime\n        ? this.ngxDateTimeRangePickerService.formatTimeToDefaultFormat(this.config.startTime)\n        : DEFAULT_START_TIME;\n      this.config.endTime = this.config.endTime\n        ? this.ngxDateTimeRangePickerService.formatTimeToDefaultFormat(this.config.endTime)\n        : DEFAULT_END_TIME;\n    }\n  }\n\n  /**\n   * @desc sets startDate, endDate\n   */\n  processDateRangeModel() {\n    if (undefined !== this.dateRangeModel && !_.isEmpty(this.dateRangeModel)) {\n      if (this.dateRangeModel[this.config.selectedModel]) {\n        const dateRangeMinDate = this.dateRangeModel[this.config.selectedModel].minDate;\n        const dateRangeMaxDate = this.dateRangeModel[this.config.selectedModel].maxDate;\n        const dateRangeStartDate = this.dateRangeModel[this.config.selectedModel].startDate;\n        const dateRangeEndDate = this.dateRangeModel[this.config.selectedModel].endDate;\n        const dateRangeDateArray = this.dateRangeModel[this.config.selectedModel].dateArray;\n\n        this.config.dateArray = dateRangeDateArray ? dateRangeDateArray : this.config.dateArray;\n        this.config.minDate = dateRangeMinDate\n          ? this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(dateRangeMinDate, this.config.inputDateFormat)\n          : this.config.minDate;\n        this.config.maxDate = dateRangeMaxDate\n          ? this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(dateRangeMaxDate, this.config.inputDateFormat)\n          : this.config.maxDate;\n        this.config.startDate = dateRangeStartDate\n          ? this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(\n              dateRangeStartDate,\n              this.config.inputDateFormat\n            )\n          : this.config.startDate;\n        this.config.endDate = dateRangeEndDate\n          ? this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(dateRangeEndDate, this.config.inputDateFormat)\n          : this.config.endDate;\n\n        if (this.config.timePicker) {\n          const dateRangeMinTime = this.dateRangeModel[this.config.selectedModel].minTime;\n          const dateRangeMaxTime = this.dateRangeModel[this.config.selectedModel].maxTime;\n          const dateRangeStartTime = this.dateRangeModel[this.config.selectedModel].startTime;\n          const dateRangeEndTime = this.dateRangeModel[this.config.selectedModel].endTime;\n          this.config.minTime = this.config.minTime\n            ? this.ngxDateTimeRangePickerService.formatTimeToDefaultFormat(dateRangeMinTime)\n            : this.config.minTime;\n          this.config.maxTime = this.config.maxTime\n            ? this.ngxDateTimeRangePickerService.formatTimeToDefaultFormat(dateRangeMaxTime)\n            : this.config.maxTime;\n          this.config.startTime = this.config.startTime\n            ? this.ngxDateTimeRangePickerService.formatTimeToDefaultFormat(dateRangeStartTime)\n            : this.config.startTime;\n          this.config.endTime = this.config.endTime\n            ? this.ngxDateTimeRangePickerService.formatTimeToDefaultFormat(dateRangeEndTime)\n            : this.config.endTime;\n        }\n      }\n    }\n  }\n\n  /**\n   * @desc sets minDate, maxDate, startDate, endDate if not passed\n   */\n  handleDateArray() {\n    if (this.config.dateArray && this.config.dateArray.length > 0) {\n      this.config.dateArray = this.ngxDateTimeRangePickerService.getSanitizedDateArray(this.config);\n\n      // sort in asc order\n      this.config.dateArray = _.sortBy(this.config.dateArray, (date) => {\n        let format = null;\n        if (isNaN(Number(date))) {\n          if (this.config.inputDateFormat) {\n            format = this.config.inputDateFormat;\n          } else {\n            format = moment(date)._f;\n          }\n        }\n        const value = moment(date, format).valueOf();\n        if (!isNaN(value)) {\n          return value;\n        } else {\n          console.warn(\n            \"ERR_NGX_DATETIME_RANGE_PICKER: dateArray values are in unknown format. Pass the format or pass the dates in known format\"\n          );\n        }\n      });\n\n      const minDate = this.config.dateArray[0];\n      const maxDate = this.config.dateArray[this.config.dateArray.length - 1];\n\n      if (\n        moment(this.config.minDate, DEFAULT_DATE_FROMAT).valueOf() ===\n        moment(DEFAULT_MIN_DATE, DEFAULT_DATE_FROMAT).valueOf()\n      ) {\n        this.config.minDate = this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(\n          minDate,\n          this.config.inputDateFormat\n        );\n      }\n      if (\n        moment(this.config.maxDate, DEFAULT_DATE_FROMAT).valueOf() ===\n        moment(DEFAULT_MAX_DATE, DEFAULT_DATE_FROMAT).valueOf()\n      ) {\n        this.config.maxDate = this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(\n          maxDate,\n          this.config.inputDateFormat\n        );\n      }\n      if (\n        moment(this.config.startDate, DEFAULT_DATE_FROMAT).valueOf() ===\n        moment(DEFAULT_START_DATE, DEFAULT_DATE_FROMAT).valueOf()\n      ) {\n        this.config.startDate = this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(\n          minDate,\n          this.config.inputDateFormat\n        );\n      }\n      if (\n        moment(this.config.endDate, DEFAULT_DATE_FROMAT).valueOf() ===\n        moment(DEFAULT_END_DATE, DEFAULT_DATE_FROMAT).valueOf()\n      ) {\n        this.config.endDate = this.ngxDateTimeRangePickerService.formatDateToDefaultFormat(\n          maxDate,\n          this.config.inputDateFormat\n        );\n      }\n    }\n  }\n\n  sanitizeDates() {\n    const subtractWeekCount = 0;\n    if (this.config.type === \"monthly\") {\n      this.config.minDate = moment(this.config.minDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"month\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.maxDate = moment(this.config.maxDate, DEFAULT_DATE_FROMAT)\n        .subtract(subtractWeekCount, \"week\")\n        .endOf(\"month\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.startDate = moment(this.config.startDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"month\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.endDate = moment(this.config.endDate, DEFAULT_DATE_FROMAT)\n        .subtract(subtractWeekCount, \"week\")\n        .endOf(\"month\")\n        .format(DEFAULT_DATE_FROMAT);\n    } else if (this.config.type === \"quarterly\") {\n      this.config.minDate = moment(this.config.minDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"quarter\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.maxDate = moment(this.config.maxDate, DEFAULT_DATE_FROMAT)\n        .subtract(subtractWeekCount, \"week\")\n        .endOf(\"quarter\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.startDate = moment(this.config.startDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"quarter\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.endDate = moment(this.config.endDate, DEFAULT_DATE_FROMAT)\n        .subtract(subtractWeekCount, \"week\")\n        .endOf(\"quarter\")\n        .format(DEFAULT_DATE_FROMAT);\n    }\n\n    if (this.config.type === \"weekly\") {\n      this.config.minDate = moment(this.config.minDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"week\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.maxDate = moment(this.config.maxDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"week\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.startDate = moment(this.config.startDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"week\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.endDate = moment(this.config.endDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"week\")\n        .format(DEFAULT_DATE_FROMAT);\n\n      if (this.config.type === \"yearly\") {\n        const minDate = moment(this.config.minDate, DEFAULT_DATE_FROMAT).format(DEFAULT_DATE_FROMAT);\n        const startDate = moment(this.config.startDate, DEFAULT_DATE_FROMAT).format(DEFAULT_DATE_FROMAT);\n        this.config.minDate = minDate;\n        this.config.startDate = startDate;\n      }\n    }\n\n    if (\n      moment(this.config.startDate, DEFAULT_DATE_FROMAT).valueOf() <\n      moment(this.config.minDate, DEFAULT_DATE_FROMAT).valueOf()\n    ) {\n      this.config.minDate = this.config.startDate;\n    }\n\n    if (\n      moment(this.config.endDate, DEFAULT_DATE_FROMAT).valueOf() >\n      moment(this.config.maxDate, DEFAULT_DATE_FROMAT).valueOf()\n    ) {\n      this.config.maxDate = this.config.endDate;\n    }\n  }\n\n  processRanges() {\n    if (this.config.showRanges && !this.config.singleDatePicker) {\n      if (_.isEmpty(this.config.availableRanges)) {\n        this.config.availableRanges = this.ngxDateTimeRangePickerService.createDefaultRanges(this.config);\n      }\n      this.selectActiveRange();\n    } else {\n      this.activeRange = \"Custom Range\";\n      this.onRangeClick(this.activeRange, null);\n    }\n  }\n\n  selectActiveRange() {\n    _.forOwn(this.config.availableRanges, (rangeModel, range) => {\n      if (this.config.startDate === rangeModel.startDate && this.config.endDate === rangeModel.endDate) {\n        this.activeRange = range;\n        this.updateActiveItem();\n      }\n    });\n\n    if (!this.activeRange) {\n      this.activeRange = \"Custom Range\";\n      this.onRangeClick(this.activeRange, null);\n    }\n  }\n\n  generateCalendar(date, side) {\n    this.selectedMonth[side] = moment(date, DEFAULT_DATE_FROMAT).format(\"MMM\");\n    this.selectedYear[side] = this.ngxDateTimeRangePickerService.getSelectedYear(this.config, date, side);\n    const calendarLabel = `${this.selectedMonth[side]} ${this.selectedYear[side]}`;\n\n    const dates = {\n      label: calendarLabel as string,\n      months: this.ngxDateTimeRangePickerService.getMonthsAvailable(\n        this.config.minDate,\n        this.config.maxDate,\n        this.selectedYear[side]\n      ),\n      years: this.ngxDateTimeRangePickerService.getYearsAvailable(this.config),\n      itemRows: [] as Object[]\n    };\n\n    this.weekDayOptions = [\"\"];\n\n    if (this.config.type !== \"yearly\") {\n      // moment returns wrong week number\n      const monthStartWeekNumber: number = moment(date, DEFAULT_DATE_FROMAT)\n        .year(this.selectedYear[side])\n        .startOf(\"month\")\n        .week(); // previousMonthLastWeek\n      const yearStartDate = moment(this.selectedYear[side], \"YYYY\")\n        .startOf(\"year\")\n        .format(DEFAULT_DATE_FROMAT);\n      let numberOfRows = 1;\n      let rowNumber: any = 0;\n      let columns: any = 0;\n      let currentItemDate = \"\";\n      let datecharacteristics: any = {};\n      let rowItemText = \"\";\n      let rowVariables: any = {};\n      let rowItemVariables: any = {};\n      let firstDay = \"\";\n      let lastDay = \"\";\n\n      if (this.config.type === \"daily\") {\n        numberOfRows = this.ngxDateTimeRangePickerService.getNumberOfWeeks(date);\n        this.weekDayOptions = [\"su\", \"mo\", \"tu\", \"we\", \"th\", \"fr\", \"sa\"];\n      } else if (this.config.type === \"weekly\") {\n        numberOfRows = 8;\n        this.weekDayOptions = [\"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n      } else if (this.config.type === \"monthly\") {\n        numberOfRows = 4;\n        this.weekDayOptions = [\"\", \"\", \"\"];\n      } else if (this.config.type === \"quarterly\") {\n        numberOfRows = 4;\n        this.weekDayOptions = [\"\"];\n      }\n\n      for (let dateRows = 0; dateRows < numberOfRows; dateRows++) {\n        const dateRowObj = {\n          rowNumber: null as string,\n          rowNumberText: null as string,\n          items: [] as Object[]\n        };\n\n        const rowOptions: any = {};\n        rowOptions.type = this.config.type;\n        rowOptions.monthStartWeekNumber = monthStartWeekNumber;\n        rowOptions.dateRows = dateRows;\n        rowOptions.year = this.selectedYear[side];\n        rowVariables = this.ngxDateTimeRangePickerService.getCalendarRowVariables(rowOptions);\n\n        rowNumber = rowVariables.rowNumber;\n        columns = rowVariables.columns;\n\n        dateRowObj.rowNumber = rowNumber;\n        dateRowObj.rowNumberText = this.ngxDateTimeRangePickerService.getCalendarRowNumberText(\n          this.config.type,\n          rowNumber\n        );\n\n        for (let rowItem = 0; rowItem <= columns; rowItem++) {\n          const rowItemOptions: any = {};\n          rowItemOptions.type = this.config.type;\n          rowItemOptions.monthStartWeekNumber = monthStartWeekNumber;\n          rowItemOptions.dateRows = dateRows;\n          rowItemOptions.rowNumber = rowNumber;\n          rowItemOptions.yearStartDate = yearStartDate;\n          rowItemOptions.year = this.selectedYear[side];\n          rowItemOptions.rowItem = rowItem;\n          rowItemOptions.columns = columns;\n          rowItemOptions.year = this.selectedYear[side];\n          rowItemVariables = this.ngxDateTimeRangePickerService.getCalendarRowItemVariables(rowItemOptions);\n\n          currentItemDate = rowItemVariables.currentItemDate;\n          rowItemText = rowItemVariables.rowItemText;\n          firstDay = rowItemVariables.firstDay;\n          lastDay = rowItemVariables.lastDay;\n          rowOptions.itemCount = rowItemVariables.itemCount;\n          datecharacteristics = this.getDatecharacteristics(currentItemDate, calendarLabel, side);\n\n          const itemObj = {\n            date: currentItemDate,\n            rowItemText,\n            firstDay,\n            lastDay,\n            available: datecharacteristics.available,\n            inRange: datecharacteristics.inRange,\n            active: datecharacteristics.active,\n            today: datecharacteristics.today\n          };\n          if (this.ngxDateTimeRangePickerService.isRowIemValid(rowOptions)) {\n            if (datecharacteristics.active) {\n              this.activeItem[side] = itemObj;\n            }\n            dateRowObj.items.push(itemObj);\n          }\n        }\n        dates.itemRows.push(dateRowObj);\n      }\n    }\n\n    this.calendarAvailable[side] = true;\n    return dates;\n  }\n\n  generateTimePicker(time, side) {\n    const timeObject = {\n      hour: [],\n      minute: [],\n      meridian: []\n    };\n\n    let startHour = 0;\n    const endHour = 23;\n    let startMinute = 0;\n    const endMinute = 59;\n    let selectedHour = side === \"left\" ? startHour : endHour;\n    let selectedMinute = side === \"left\" ? startMinute : endMinute;\n    const startDateEpoch = moment(this.config.startDate, DEFAULT_DATE_FROMAT).valueOf();\n    const endDateEpoch = moment(this.config.endDate, DEFAULT_DATE_FROMAT).valueOf();\n\n    if (time) {\n      selectedHour = moment(time, DEFAULT_TIME_FORMAT).format(\"H\");\n      selectedMinute = moment(time, DEFAULT_TIME_FORMAT).format(\"m\");\n\n      if (side === \"right\" && startDateEpoch === endDateEpoch) {\n        startHour = selectedHour;\n        startMinute = selectedMinute;\n      }\n    }\n\n    // let dateOptions = {\n    //   timeZone: TZ_NAMES[this.selectedTimezone],\n    //   timeZoneName: 'short',\n    //   hour12: false\n    // }\n    // let startDateObj = new Date(`Jan 1 1970 ${startHour}:${startMinute}:00 GMT-0700 (Mountain Standard Time)`);\n    // let endDateObj = new Date(`Jan 1 1970 ${endHour}:${endMinute}:00 GMT-0700 (Mountain Standard Time)`);\n    // startTime = startDateObj.toLocaleTimeString('en-US', dateOptions);\n    // endTime = endDateObj.toLocaleTimeString('en-US', dateOptions);\n\n    // startHour = moment(startTime, 'HH:mm:ss').format('H');\n    // endHour = moment(endTime, 'HH:mm:ss').format('H');\n    // startMinute = moment(startTime, 'HH:mm:ss').format('m');\n    // endMinute = moment(endTime, 'HH:mm:ss').format('m');\n\n    for (let h = startHour; h <= 23; h++) {\n      const stringified_h = this.ngxDateTimeRangePickerService.convertToViewTimeItem(h);\n      timeObject.hour.push(stringified_h);\n    }\n    for (let m = startMinute; m <= 59; m++) {\n      const stringified_m = this.ngxDateTimeRangePickerService.convertToViewTimeItem(m);\n      timeObject.minute.push(stringified_m);\n    }\n\n    this.selectedHour[side] = this.ngxDateTimeRangePickerService.convertToViewTimeItem(selectedHour);\n    this.selectedMinute[side] = this.ngxDateTimeRangePickerService.convertToViewTimeItem(selectedMinute);\n\n    if (side === \"left\") {\n      this.config.startTime = `${this.selectedHour[side]}:${this.selectedMinute[side]}`;\n    } else if (side === \"right\") {\n      this.config.endTime = `${this.selectedHour[side]}:${this.selectedMinute[side]}`;\n    }\n\n    return timeObject;\n  }\n\n  capitalize(day) {\n    return _.capitalize(day);\n  }\n\n  updateInputField() {\n    const startDate = this.ngxDateTimeRangePickerService.formatStartDate(this.config, this.config.viewDateFormat);\n    const endDate = this.config.endDate\n      ? moment(this.config.endDate, DEFAULT_DATE_FROMAT).format(this.config.viewDateFormat)\n      : \"\";\n\n    if (this.config.singleDatePicker) {\n      let startDateText = startDate;\n      let endDataText = endDate;\n      let dateText = \"\";\n\n      if (this.config.timePicker) {\n        startDateText = `${startDate} ${this.config.startTime}`;\n        endDataText = `${endDate} ${this.config.endTime}`;\n      }\n      if (this.config.displayBeginDate) {\n        dateText = `${startDateText}`;\n      } else if (this.config.displayEndDate) {\n        dateText = `${endDataText}`;\n      } else {\n        dateText = `${startDateText} - ${endDataText}`;\n      }\n\n      this.selectedDateText = dateText;\n    } else {\n      let startDateText = startDate;\n      let endDataText = endDate;\n\n      if (this.config.timePicker) {\n        startDateText = `${startDate} ${this.config.startTime}`;\n        endDataText = `${endDate} ${this.config.endTime}`;\n      }\n\n      this.selectedDateText = `${startDateText} - ${endDataText}`;\n    }\n\n    if (this.canBeEmpty || this.selectedDateText.indexOf(\"nvalid\") < 0) {\n      this.isValidFilter = true;\n    }\n\n    if (this.config.type === \"yearly\") {\n      this.dateTitleText.left = `${startDate}`;\n      this.dateTitleText.right = `${endDate}`;\n    } else {\n      this.updateActiveItemInputField();\n    }\n  }\n\n  updateActiveItemInputField() {\n    let itemFirstDate = \"\";\n    let itemLastDate = \"\";\n    let itemText = \"\";\n    if (!this.config.singleDatePicker) {\n      itemFirstDate = this.activeItem.left.firstDay;\n      itemLastDate = this.activeItem.left.lastDay;\n      itemText = this.activeItem.left.rowItemText;\n      itemFirstDate = moment(itemFirstDate, DEFAULT_DATE_FROMAT).format(this.config.viewDateFormat);\n      itemLastDate = moment(itemLastDate, DEFAULT_DATE_FROMAT).format(this.config.viewDateFormat);\n      if (this.config.type !== \"daily\") {\n        this.dateTitleText.left = `${itemText} (${itemFirstDate} - ${itemLastDate})`;\n      } else {\n        this.dateTitleText.left = `${itemFirstDate}`;\n      }\n    }\n\n    itemFirstDate = this.activeItem.right.firstDay;\n    itemLastDate = this.activeItem.right.lastDay;\n    itemText = this.activeItem.right.rowItemText;\n    itemFirstDate = moment(itemFirstDate, DEFAULT_DATE_FROMAT).format(this.config.viewDateFormat);\n    itemLastDate = moment(itemLastDate, DEFAULT_DATE_FROMAT).format(this.config.viewDateFormat);\n    if (this.config.type !== \"daily\") {\n      this.dateTitleText.right = `${itemText} (${itemFirstDate} - ${itemLastDate})`;\n    } else {\n      this.dateTitleText.right = `${itemFirstDate}`;\n    }\n  }\n\n  dateRangeSelected() {\n    const dateRangeModel: NgxDatetimeRangePickerModelItem = this.getNgxDatetimeRangePickerModelItem();\n    this.showCalendar = false;\n    this.filterInputBox.nativeElement.classList.remove(\"empty-filter\");\n    this.doDateRangeModelChange();\n    this.dateRangeChanged.emit(dateRangeModel);\n  }\n\n  getDateRangeModel(format?) {\n    let dRModel = {};\n    if (undefined !== this.dateRangeModel && !_.isEmpty(this.dateRangeModel)) {\n      dRModel = _.cloneDeep(this.dateRangeModel);\n    }\n    dRModel[this.config.selectedModel] = this.getNgxDatetimeRangePickerModelItem(format);\n    return dRModel;\n  }\n\n  getNgxDatetimeRangePickerModelItem(format?): NgxDatetimeRangePickerModelItem {\n    let dateRangeModelItem: NgxDatetimeRangePickerModelItem;\n    let outputDateFormat = this.config.outputDateFormat;\n    if (undefined !== format) {\n      outputDateFormat = format;\n    }\n    let startDate = this.ngxDateTimeRangePickerService.formatStartDate(this.config, outputDateFormat);\n    let endDate = moment(this.config.endDate, DEFAULT_DATE_FROMAT).format(outputDateFormat);\n\n    if (this.config.selectedTimezone) {\n      startDate = this.ngxDateTimeRangePickerService.formatToZoneDate(\n        this.config.selectedTimezone,\n        outputDateFormat,\n        startDate\n      );\n      endDate = this.ngxDateTimeRangePickerService.formatToZoneDate(\n        this.config.selectedTimezone,\n        outputDateFormat,\n        endDate\n      );\n    }\n\n    dateRangeModelItem = { startDate, endDate };\n\n    if (this.config.timePicker) {\n      const startTime = this.config.startTime;\n      const endTime = this.config.endTime;\n\n      dateRangeModelItem = {\n        startDate,\n        endDate,\n        startTime,\n        endTime\n      };\n    }\n\n    return dateRangeModelItem;\n  }\n\n  doApply() {\n    const startDate = this.config.startDate;\n    const endDate = this.config.endDate;\n\n    this.activeStartDate = startDate as string;\n    this.activeEndDate = endDate as string;\n\n    if (this.config.startDate && this.config.endDate) {\n      if (!this.config.timePicker) {\n        this.dateRangeSelected();\n      } else {\n        if (this.config.timePicker) {\n          _.forEach(this.sides, (side) => {\n            this.times[side] = this.generateTimePicker(null, side);\n          });\n        }\n      }\n    }\n\n    let outputStartDate = startDate ? moment(startDate, DEFAULT_DATE_FROMAT).valueOf() : null;\n    let outputEndDate = endDate ? moment(endDate, DEFAULT_DATE_FROMAT).valueOf() : null;\n    if (this.config.outputDateFormat) {\n      outputStartDate = startDate ? moment(startDate, DEFAULT_DATE_FROMAT).format(this.config.outputDateFormat) : null;\n      outputEndDate = endDate ? moment(endDate, DEFAULT_DATE_FROMAT).format(this.config.outputDateFormat) : null;\n    }\n    this.selectedDate.emit({\n      startDate: outputStartDate,\n      endDate: outputEndDate\n    });\n\n    this.updateInputField();\n  }\n\n  doDateRangeModelChange() {\n    const dateRangeModel = this.getDateRangeModel(this.config.inputDateFormat);\n    this.dateRangeModelChange.emit(dateRangeModel);\n  }\n\n  onTimezoneChange(tz) {\n    this.selectedTimezone = tz;\n    this.todayTime = this.ngxDateTimeRangePickerService.getZoneToday(this.selectedTimezone, this.config.viewDateFormat);\n\n    this.parseOptionsToDefaultDateFormat();\n    _.forEach(this.sides, (side) => {\n      let date = this.config.startDate;\n      let time = this.config.startTime;\n      if (side === \"right\") {\n        date = this.config.endDate;\n        time = this.config.endTime;\n      }\n      this.dates[side] = this.generateCalendar(date, side);\n      if (this.config.timePicker) {\n        this.times[side] = this.generateTimePicker(time, side);\n      }\n    });\n  }\n\n  getSelectedTimeItemText(item, side) {\n    if (item === \"hour\") {\n      return this.selectedHour[side];\n    } else if (item === \"minute\") {\n      return this.selectedMinute[side];\n    }\n  }\n\n  setActiveItemOnRangeClick() {\n    this.updateActiveItem();\n    this.doApply();\n  }\n\n  updateActiveItem() {\n    const startDate: any = this.ngxDateTimeRangePickerService.getFirstLastDay(this.config.startDate, this.config.type);\n    const endDate: any = this.ngxDateTimeRangePickerService.getFirstLastDay(this.config.endDate, this.config.type);\n\n    if (this.config.type === \"weekly\") {\n      startDate.rowItemText = `W${this.ngxDateTimeRangePickerService.getWeekNumber(startDate.firstDay)}`;\n      endDate.rowItemText = `W${this.ngxDateTimeRangePickerService.getWeekNumber(endDate.firstDay)}`;\n    } else if (this.config.type === \"monthly\") {\n      startDate.rowItemText = `${moment(startDate.firstDay, DEFAULT_DATE_FROMAT).format(\"MMM\")}`;\n      endDate.rowItemText = `${moment(endDate.firstDay, DEFAULT_DATE_FROMAT).format(\"MMM\")}`;\n    } else if (this.config.type === \"quarterly\") {\n      startDate.rowItemText = `Quarter ${moment(startDate.firstDay, DEFAULT_DATE_FROMAT).quarter()}`;\n      endDate.rowItemText = `Quarter ${moment(endDate.firstDay, DEFAULT_DATE_FROMAT).quarter()}`;\n    }\n\n    this.activeItem.left = startDate;\n    this.activeItem.right = endDate;\n\n    // this.doApply();\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { MatButtonModule, MatFormFieldModule, MatIconModule, MatInputModule, MatSelectModule } from \"@angular/material\";\n\nconst modules = [MatFormFieldModule, MatButtonModule, MatInputModule, MatIconModule, MatSelectModule];\n@NgModule({\n  imports: modules,\n  exports: modules\n})\nexport class MaterialModule {}\n","import { Pipe, PipeTransform } from \"@angular/core\";\n\n/**\n * Iterate over {key: value}\n * Returns the keys of the object\n * Usage:\n *    let objKey of obj | ObjNgFor\n * Example:\n *    let obj = {a: 1, b: 2};\n *    *ngFor=\"let key of obj | ObjNgFor\"\n *    {{keys}}: {{obj[key]}}\n */\n\n@Pipe({ name: \"ObjNgFor\", pure: false })\nexport class ObjNgFor implements PipeTransform {\n  public transform(value: any, args: any[] = null): any {\n    return Object.keys(value); // .map(key => value[key]);\n  }\n}\n","import { NgModule, ModuleWithProviders, Optional, SkipSelf } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\nimport { NoopAnimationsModule } from \"@angular/platform-browser/animations\";\nimport { MaterialModule } from \"./material/material.module\";\nimport { NgxDatetimeRangePickerComponent } from \"./ngx-datetime-range-picker.component\";\nimport { ObjNgFor } from \"./pipes/objNgFor.pipe\";\nimport { NgxDatetimeRangePickerService } from \"./ngx-datetime-range-picker.service\";\n\n@NgModule({\n  declarations: [ObjNgFor, NgxDatetimeRangePickerComponent],\n  imports: [CommonModule, NoopAnimationsModule, FormsModule, MaterialModule],\n  exports: [NgxDatetimeRangePickerComponent, MaterialModule]\n})\nexport class NgxDatetimeRangePickerModule {\n  constructor(@Optional() @SkipSelf() parentModule: NgxDatetimeRangePickerModule) {\n    if (parentModule) {\n      throw new Error(\"NgxDatetimeRangePickerModule is already loaded. Import it in the AppModule only\");\n    }\n  }\n\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: NgxDatetimeRangePickerModule,\n      providers: [NgxDatetimeRangePickerService]\n    };\n  }\n}\n"],"names":["moment","EU_TZ_CODE","Injectable","_","DEFAULT_DATE_FROMAT","DEFAULT_TIME_FORMAT","DEFAULT_START_DATE","DEFAULT_END_DATE","DEFAULT_MIN_DATE","DEFAULT_MAX_DATE","DEFAULT_START_TIME","DEFAULT_END_TIME","USA_TZ_CODE","EventEmitter","tslib_1.__decorate","Input","Observable","Output","ViewChild","Component","ViewEncapsulation","ElementRef","Renderer","MatFormFieldModule","MatButtonModule","MatInputModule","MatIconModule","MatSelectModule","NgModule","Pipe","CommonModule","NoopAnimationsModule","FormsModule","tslib_1.__param","Optional","SkipSelf"],"mappings":"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"}